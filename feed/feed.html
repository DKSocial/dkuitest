<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>DK - Home</title>
  
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Toastify CSS -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  
  <style>
@import url('https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;700&display=swap');

* {
    font-family: 'Google Sans', sans-serif;
}

body {
    margin: 0;
    background: linear-gradient(to bottom, #FAF5FF, #E9D8FD);
    overflow: hidden;
    color: #4A148C;
}

.container {
    display: flex;
    height: 100vh;
}

.sidebar {
    width: 240px;
    background-color: #FAF5FF;
    padding: 20px;
    display: flex;
    border: 1px solid #B794F4;
    flex-direction: column;
    gap: 20px;
}

.sidebar a {
    color: #4A148C;
    text-decoration: none;
    font-size: 24px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.sidebar a img {
    width: 20px;
    height: 20px;
}

.main-content {
    width: 70%;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.main-content::-webkit-scrollbar {
    width: 6px;
}

.main-content::-webkit-scrollbar-track {
    background: transparent;
}

.main-content::-webkit-scrollbar-thumb {
    background: #9F7AEA;
    border-radius: 3px;
}

.main-content::-webkit-scrollbar-thumb:hover {
    background: #B794F4;
}

.post-box {
    background-color: #FAF5FF;
    padding: 15px;
    border: 1px solid #B794F4;
    border-radius: 14px;
}

.post-box textarea {
    width: auto;
    height: 140px;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 10px;
    color: #4A148C;
    padding: 10px;
    font-size: 16px;
}

.post-box textarea:hover {
    border-color: #9F7AEA;
}

.post-box textarea:focus {
    border: 1px solid #9F7AEA;
}

.post-box .actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
}

.post-box .actions img {
    width: 24px;
    height: 24px;
}

.post-box .actions button {
    background-color: #9F7AEA;
    color: #FAF5FF;
    border: none;
    padding: 10px 20px;
    border-radius: 20px;
    gap: 3px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.post-box .actions button:hover {
    background-color: #B794F4;
}

.trending {
    width: 240px;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.trending .trending-item {
    background-color: #FAF5FF;
    padding: 10px;
    border-radius: 10px;
}

@media (max-width: 1028px) {

    body {
        overflow-y: auto;
        
    }

    .container {
        flex-direction: column;
        height: auto;
        min-height: 100vh;
    }

    .sidebar {
        width: 100%;
        height: auto;
        position: fixed;
        bottom: 0px;
        background-color: #FAF5FF;
        flex-direction: row;
        justify-content: space-around;
        padding: 8px;
        z-index: 9999;
    }

    .sidebar a {
        font-size: 18px;
        gap: 2px;
        flex-direction: column;
    }

    .active {
        display: none;
    }

    .mobile-header {
        display: flex;
    }

    .main-content {
        width: 96%;
        overflow: auto;
        padding: 15px;
        margin-bottom: 60px;
    }

    .trending {
        display: none;
    }

    .post-box {
        display: none;
    }

    .post-box textarea {
        height: 80px;
    }

    .post-box .actions button {
        padding: 12px 25px;
        font-size: 14px;
    }

    .sidebar a img {
        width: 20px;
        height: 20px;
    }

    .post-button {
        display: block;
        position: fixed;
        bottom: 80px;
        right: 20px;
        background-color: #9F7AEA;
        color: #FAF5FF;
        border: none;
        padding: 20px;
        border-radius: 50%;
        cursor: pointer;
        z-index: 10000;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .post-button:hover {
        background-color: #B794F4;
        transform: scale(1.1);
    }

    .logo {
        visibility: hidden;
        position: absolute;
    }
}

.tweet {
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 20px;
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.tweet__header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.tweet__profile-pic {
    width: 50px;
    height: 50px;
    border-radius: 50%;
}

.tweet__username {
    font-weight: 700;
    color: #4A148C;
    text-decoration: none;
    font-size: 18px;
}

.verified-icon {
    width: 22px;
    height: auto;
    fill: #9F7AEA;
    transition: fill 0.3s ease;
}

.verified-icon:hover {
    fill: #B794F4;
}

.tweet__separator {
    border: 0;
    border-top: 1px solid #B794F4;
    margin: 10px 0;
}

.tweet__content {
    color: #4A148C;
    font-size: 16px;
    line-height: 1.6;
}

.tweet__hashtags a {
    color: #9F7AEA;
    text-decoration: none;
    font-weight: 600;
    margin-right: 5px;
    transition: color 0.3s ease;
}

.tweet__hashtags a:hover {
    color: #B794F4;
}

.reliability-indicator {
    font-size: 14px;
    display: inline-block;
    margin-top: 10px;
    padding: 5px 10px;
    border-radius: 8px;
}

.reliability-indicator--fake {
    background-color: #e74c3c;
    color: #ffffff;
}

.tweet__actions {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-top: 10px;
    gap: 8px;
}

.tweet__action {
    background-color: transparent;
    color: #4A148C;
    border: 1px solid transparent;
    padding: 8px;
    border-radius: 20px;
    cursor: pointer;
    margin: 0 4px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.tweet__action:hover {
    color: #9F7AEA;
}

.tweet__comments {
    margin-top: 15px;
}

.tweet__comments .comment {
    padding: 10px;
    background-color: #FAF5FF;
    border-radius: 8px;
    margin-bottom: 10px;
    color: #4A148C;
    font-size: 14px;
}

@media (max-width: 1024px) {
    .tweet {
        padding: 10px;
    }

    .tweet__profile-pic {
        width: 40px;
        height: 40px;
    }

    .tweet__username {
        font-size: 16px;
    }

    .tweet__content {
        font-size: 15px;
    }

    .tweet__action {
        padding: 6px 12px;
        font-size: 14px;
    }
}

@media (max-width: 768px) {
    .tweet {
        padding: 8px;
        margin-bottom: 15px;
        border-radius: 10px;
    }

    .tweet__profile-pic {
        width: 35px;
        height: 35px;
    }

    .tweet__username {
        font-size: 14px;
    }

    .tweet__content {
        font-size: 14px;
        line-height: 1.4;
    }

    .tweet__hashtags a {
        font-size: 12px;
    }

    .tweet__action {
        padding: 5px 10px;
        font-size: 12px;
    }
}

@media (max-width: 480px) {
    .tweet {
        padding: 5px;
        margin-bottom: 10px;
    }

    .tweet__profile-pic {
        width: 30px;
        height: 30px;
    }

    .tweet__username {
        font-size: 12px;
    }

    .tweet__content {
        font-size: 12px;
    }

    .tweet__action {
        padding: 4px 8px;
        font-size: 10px;
    }
}

.trending-hashtags {
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 10px;
    padding: 15px;
}

.trending-hashtags h2 {
    margin: 0 0 10px 0;
    font-size: 18px;
}

.hashtag {
    color: #9F7AEA;
    font-size: 16px;
    margin-bottom: 5px;
    cursor: pointer;
    text-decoration: none;
}

.search-bar {
    display: flex;
}

.loading-spinner {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    width: 40px;
    height: 40px;
    border: 4px solid transparent;
    border-top: 4px solid #9F7AEA;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 9999;
    transform: translate(-50%, -50%);
}

@keyframes spin {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }
    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

.notifications-panel {
    display: none;
    position: fixed;
    top: 60px;
    right: 20px;
    width: 300px;
    max-height: 400px;
    overflow-y: auto;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 14px;
    z-index: 1000;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.tweet-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.media-input-container {
    align-items: center;
    gap: 10px;
    margin-top: 5px;
}

.media-input {
    flex: 1;
    display: none;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 10px;
    color: #4A148C;
    padding: 8px;
    font-size: 14px;
}

.character-count {
    color: #666;
    font-size: 12px;
    text-align: right;
}

.notifications-bell {
    position: relative;
    cursor: pointer;
}

.notifications-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: #9F7AEA;
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 12px;
}

.error-message {
    color: #e74c3c;
    font-size: 14px;
    margin-top: 5px;
}

.success-message {
    color: #2ecc71;
    font-size: 14px;
    margin-top: 5px;
}

.media-preview {
    margin-top: 10px;
    width: 300px;
    height: auto;
    border-radius: 20px;
    overflow: hidden;
}

.media-preview img {
    width: 100%;
    height: auto;
    border-radius: 20px;
    display: block;
}

.media img:hover {
    opacity: 0.9;
    transition: opacity 0.2s ease;
}

.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
    background-color: #FAF5FF;
    margin: 10% auto;
    padding: 20px;
    border-radius: 8px;
    width: 50%;
    max-width: 600px;
    position: relative;
}

.close-modal {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    cursor: pointer;
}

.tweet__comments .comment {
    padding: 10px;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 10px;
    margin-bottom: 10px;
    color: #4A148C;
    font-size: 14px;
}

.comment__header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.comment__profile-pic {
    width: 30px;
    height: 30px;
    border-radius: 50%;
}

.comment__username {
    font-weight: 700;
    color: #4A148C;
    font-size: 14px;
}

.comment__verified-icon {
    width: 16px;
    height: 16px;
    fill: #9F7AEA;
}

.comment__content {
    color: #4A148C;
    font-size: 14px;
    line-height: 1.4;
}

.comment__timestamp {
    font-size: 12px;
    color: #666;
    margin-top: 5px;
}

.comment__actions {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.comment__action {
    background-color: transparent;
    color: #4A148C;
    border: none;
    cursor: pointer;
    font-size: 12px;
    transition: color 0.3s ease;
}

.comment__action:hover {
    color: #9F7AEA;
}

.comment-input-container {
    margin-top: 20px;
}

#commentInput textarea {
    width: 100%;
    height: 80px;
    background-color: #FAF5FF;
    border: 1px solid #B794F4;
    border-radius: 10px;
    color: #4A148C;
    padding: 10px;
    font-size: 14px;
    resize: none;
}

#commentInput textarea:focus {
    border-color: #9F7AEA;
}

#commentForm button {
    background-color: #9F7AEA;
    color: #FAF5FF;
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s ease;
}

#commentForm button:hover {
    background-color: #B794F4;
}

#imageInput {
    display: none;
}

.notifications-panel {
    position: fixed;
    top: 50px;
    right: 20px;
    background-color: white;
    width: 300px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow-y: auto;
    max-height: 400px;
    z-index: 999;
}

.notifications-header {
    padding: 15px;
    background-color: #f5f5f5;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.notifications-list {
    padding: 10px;
}

.notification-item {
    padding: 10px;
    border-bottom: 1px solid #ddd;
    font-size: 14px;
}

.notification-item:last-child {
    border-bottom: none;
}

.close-notifications-btn {
    background: none;
    border: none;
    font-size: 20px;
    color: #9F7AEA;
    cursor: pointer;
}

.notifications-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.sponsored-label {
    background-color: #abbfda;
    color: #000;
    padding: 2px 5px;
    border-radius: 3px;
    font-size: 0.8em;
    margin-left: 10px;
}

.search-bar {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin-bottom: 20px;
}

.search-bar input {
    width: 100%;
    padding: 12px 20px;
    font-size: 16px;
    border: 2px solid #9F7AEA;
    border-radius: 25px;
    color: #4A148C;
    background-color: #FAF5FF;
    outline: none;
    box-sizing: border-box;
    transition: all 0.3s ease;
}

.search-bar input:focus {
    border-color: #9F7AEA;
    background-color: #FAF5FF;
}

.logo img {
    width: 60px;
}

.userhandle {
    font-size: 14px;
    color: #657786; /* Cor cinza para o user handle */
    margin-left: 5px;
}

/* Estilo para o timestamp */
.tweet__timestamp {
    font-size: 14px;
    color: #657786; /* Cor cinza para o timestamp */
    margin-left: 5px;
}
  </style>
</head>
<body>
  <!-- Loading Spinner -->
  <div class="loading-spinner">
  </div>

  <div class="container">

    <div class="main-content">
      <form class="post-box tweet-form" data-js="tweet-form">
        <textarea 
          data-js="tweet-description" 
          placeholder="O que está acontecendo?" 
          maxlength="280"></textarea>
        
        <div class="media-input-container">
          <input 
            type="text" 
            data-js="media-url-input" 
            class="media-input" 
            placeholder="Cole URLs de mídia (separe múltiplas URLs com vírgula)">
          <!-- Botão estilizado para o input de arquivo -->
          <label for="imageInput" class="label-file">
            <span class="material-icons" style="color: #532466;">photo</span>
          </label>
          <input type="file" id="imageInput" />
        </div>

        <div class="media-preview"></div>

        <div class="actions">
          <span class="character-count">280</span>
          <button type="submit" data-js="tweet-button" disabled>Postar</button>
        </div>
      </form>

      <div class="tweets-container" data-js="tweets">
        <!-- Os tweets serão renderizados aqui dinamicamente -->
      </div>
    </div>

    <div class="trending">
      <div class="search-bar">
        <input type="text" id="search" placeholder="Pesquisar posts, @usuários ou #hashtags...">
      </div>
      <div class="trending-hashtags" id="trending-hashtags">
        <h2>O que está acontecendo</h2>
        <!-- As hashtags mais usadas serão renderizadas aqui dinamicamente -->
      </div>
    </div>
  </div>

  <div id="commentsModal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Comentários</h2>
      <div id="commentsList"></div>
      <!-- Adicione um campo de texto e um botão para enviar comentários -->
      <form id="commentForm">
        <input type="text" id="commentInput" placeholder="Escreva um comentário..." required>
        <button type="submit">Enviar</button>
      </form>
    </div>
  </div>
  <!-- Scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  
  <!-- Toastify JS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="./js/posts.js"></script>
  <script>
    const translations = {
      "pt-BR": {
        "Início": "Início",
        "Perfil": "Perfil",
        "Chat": "Chat",
        "O que está acontecendo?": "O que está acontecendo?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Cole URLs de mídia (separe múltiplas URLs com vírgula)",
        "Postar": "Postar",
        "Pesquisar posts, @usuários ou #hashtags...": "Pesquisar posts, @usuários ou #hashtags...",
        "O que está acontecendo": "O que está acontecendo",
        "Comentários": "Comentários",
        "Escreva um comentário...": "Escreva um comentário...",
        "Enviar": "Enviar",
      },
      "en-US": {
        "Início": "Home",
        "Perfil": "Profile",
        "Chat": "Messages",
        "O que está acontecendo?": "What's happening?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Paste media URLs (separate multiple URLs with commas)",
        "Postar": "Post",
        "Pesquisar posts, @usuários ou #hashtags...": "Search posts, @users or #hashtags...",
        "O que está acontecendo": "What's happening",
        "Comentários": "Comments",
        "Escreva um comentário...": "Write a comment...",
        "Enviar": "Send",
      },
      "es-ES": {
        "Início": "Inicio",
        "Perfil": "Perfil",
        "Chat": "Mensajes",
        "O que está acontecendo?": "¿Qué está pasando?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Pega URLs de medios (separa múltiples URLs con comas)",
        "Postar": "Publicar",
        "Pesquisar posts, @usuários ou #hashtags...": "Buscar publicaciones, @usuarios o #hashtags...",
        "O que está acontecendo": "¿Qué está pasando?",
        "Comentários": "Comentarios",
        "Escreva um comentário...": "Escribe un comentario...",
        "Enviar": "Enviar",
      },
      "fr-FR": {
        "Início": "Accueil",
        "Perfil": "Profil",
        "Chat": "Messages",
        "O que está acontecendo?": "Que se passe-t-il ?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Collez des URLs de médias (séparez plusieurs URLs par des virgules)",
        "Postar": "Publier",
        "Pesquisar posts, @usuários ou #hashtags...": "Rechercher des posts, @utilisateurs ou #hashtags...",
        "O que está acontecendo": "Que se passe-t-il ?",
        "Comentários": "Commentaires",
        "Escreva um comentário...": "Écrivez un commentaire...",
        "Enviar": "Envoyer",
      },
      "de-DE": {
        "Início": "Startseite",
        "Perfil": "Profil",
        "Chat": "Nachrichten",
        "O que está acontecendo?": "Was ist los?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Fügen Sie Medien-URLs ein (trennen Sie mehrere URLs durch Kommas)",
        "Postar": "Beitrag",
        "Pesquisar posts, @usuários ou #hashtags...": "Beiträge, @Benutzer oder #Hashtags suchen...",
        "O que está acontecendo": "Was ist los?",
        "Comentários": "Kommentare",
        "Escreva um comentário...": "Schreiben Sie einen Kommentar...",
        "Enviar": "Senden",
      },
      "it-IT": {
        "Início": "Home",
        "Perfil": "Profilo",
        "Chat": "Messaggi",
        "O que está acontecendo?": "Cosa sta succedendo?",
        "Cole URLs de mídia (separe múltiplas URLs com vírgula)": "Incolla URL di media (separare più URL con virgole)",
        "Postar": "Pubblica",
        "Pesquisar posts, @usuários ou #hashtags...": "Cerca post, @utenti o #hashtag...",
        "O que está acontecendo": "Cosa sta succedendo?",
        "Comentários": "Commenti",
        "Escreva um comentário...": "Scrivi un commento...",
        "Enviar": "Invia",
      }
    };
  
    // Função para traduzir textos e placeholders
    function translateTextNodes(element, lang) {
      element.childNodes.forEach(node => {
        if (node.nodeType === Node.TEXT_NODE) {
          let text = node.textContent.trim();
          if (text && translations[lang] && translations[lang][text]) {
            node.textContent = translations[lang][text];
          }
        } else if (node.nodeType === Node.ELEMENT_NODE) {
          // Traduz placeholders e outros atributos
          if (node.tagName === "INPUT" || node.tagName === "TEXTAREA") {
            const placeholder = node.getAttribute("placeholder");
            if (placeholder && translations[lang] && translations[lang][placeholder]) {
              node.setAttribute("placeholder", translations[lang][placeholder]);
            }
          }
          // Evita traduzir scripts e estilos
          if (node.tagName !== "SCRIPT" && node.tagName !== "STYLE") {
            translateTextNodes(node, lang);
          }
        }
      });
    }
  
    // Função para salvar o idioma no localStorage
    function saveLanguage(lang) {
      localStorage.setItem("selectedLanguage", lang);
    }
  
    // Função para carregar o idioma salvo no localStorage
    function loadLanguage() {
      return localStorage.getItem("selectedLanguage") || "pt-BR"; // Idioma padrão é português
    }
  
    // Função para verificar o idioma e aplicar as traduções
    function checkLanguage() {
      const params = new URLSearchParams(window.location.search);
      const langFromURL = params.get("lang"); // Verifica o idioma na URL
      const lang = langFromURL || loadLanguage(); // Usa o idioma da URL ou do localStorage
  
      if (translations[lang]) {
        translateTextNodes(document.body, lang);
        saveLanguage(lang); // Salva o idioma no localStorage
      }
    }
  
    // Executa a verificação de idioma ao carregar a página
    window.onload = checkLanguage;
  </script>
</body>
</html>
